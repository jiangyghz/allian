<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>产品修改</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="../js/bootstrap-validation/bootstrap3-validation.min.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/jquery.cookie.js"></script>
</head>

<body>
<div class="modal-header" >
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    <h4 class="modal-title" id="exampleModalLabel">产品修改</h4>
</div>

<div class="modal-body"  style=" overflow:auto;">
    <form id="form1" role="form"  class="form-horizontal" >
        <div class="form-group">
            <label class="col-sm-3 control-label">产品名称：</label>
            <div class="col-xs-8">
                <input type="text" class="form-control " check-type="required" th:value="${info.pname}" name="pname"  maxlength="25"  />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">品牌：</label>
            <div class="col-xs-8">
                <input type="text" class="form-control "   th:value="${info.brand}" name="brand"  maxlength="25"  />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">分组：</label>
            <div class="col-xs-8">
                <input type="text" class="form-control "   th:value="${info.groupname}" name="groupname"  maxlength="25"  />
            </div>
        </div>
<!--        <div class="form-group">-->
<!--            <label class="col-sm-3 control-label">保险公司：</label>-->
<!--            <div class="col-xs-8">-->
<!--                <select id="icode" name="icode"  class="form-control ">-->
<!--                <option value=""> </option>-->
<!--                <option th:each="map,userStat:${insurance}" th:value="${map.code}" th:text="${map.shortname}" th:attr="selected=(${info.icode}==${map.code}?'selected':'false') "></option>-->
<!--                </select>-->

<!--            </div>-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--            <label class="col-sm-3 control-label">零售价：</label>-->
<!--            <div class=" input-group col-xs-8" style="padding: 0 15px;">-->
<!--                <input type="text" class="form-control "   th:value="${info.retailprice}" name="retailprice" maxlength="20" />-->
<!--                    <div class="input-group-addon">元</div>-->
<!--            </div>-->
<!--        </div>-->
        <div class="form-group">
            <label class="col-sm-3 control-label">代理价：</label>
            <div class="input-group col-xs-8" style="padding: 0 15px;">
                <input type="text" class="form-control "   th:value="${info.agentprice}" name="agentprice" maxlength="20" />
                <div class="input-group-addon">元</div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">成本：</label>
            <div class="input-group col-xs-8" style="padding: 0 15px;">
                <input type="text" class="form-control "   th:value="${info.cost}" name="cost" maxlength="20" />
                <div class="input-group-addon">元</div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">零售折扣：</label>
            <div class=" col-xs-8" >
                <input type="text" class="form-control "   th:value="${info.retaildiscount}" name="retaildiscount" maxlength="20" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">代理折扣：</label>
            <div class=" col-xs-8" >
                <input type="text" class="form-control "   th:value="${info.agentdiscount}" name="agentdiscount" maxlength="20" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">车价费率：</label>
            <div class=" col-xs-8" >
                <input type="text" class="form-control "   th:value="${#numbers.formatDecimal(info.carcostrate,1,6)}" name="carcostrate" maxlength="20" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">手续费：</label>
            <div class="input-group col-xs-8" style="padding: 0 15px;">
                <input type="text" class="form-control "   th:value="${info.tpa}" name="tpa" maxlength="20" />
                <div class="input-group-addon">元</div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">描述：</label>
            <div class=" col-xs-8" >
                <textarea type="text" class="form-control "   th:text="${info.disc}" name="disc" maxlength="100" />
            </div>
        </div>

    </form>
</div>
<div class="modal-footer" style="text-align:center;">
    <button type="button" class="btn btn-primary" id="btnSubmit">确认</button>
    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
</div>
<script th:inline="javascript">
    $(function(){
        $('#form1').validation({reqmark:false});
        $("#btnSubmit").click(function(){
            if($("#form1").valid()==false){
                $(".form-group.has-error").eq(0).find("input,select,textarea").focus();
                return false;
            }
            $.post("productedit?id="+[[${id}]],$("form").serialize()+"&action=save&tokensign="+$.cookie("tokensign"),function(data){
                //console.info(data);
                if(data[0]){
                    closemodal();
                    try{
                        Search();
                    }catch(e){};
                }else{
                    alert(data[1]);
                }
            },"json");
        });
    });

</script>
</body>

</html>